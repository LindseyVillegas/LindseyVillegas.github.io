<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Lindsey Villegas</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="This website was created by Lindsey Villegas to store the Masters program labs." />
		<meta name="keywords" content="" />
		<meta name="author" content="Lindsey Villegas" />


		<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->


		<link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700" rel="stylesheet">

		<!-- Animate.css -->
		<link rel="stylesheet" href="Assets/css/animate.css">
		<!-- Icomoon Icon Fonts-->
		<link rel="stylesheet" href="Assets/css/icomoon.css">
		<!-- Bootstrap  -->
		<link rel="stylesheet" href="Assets/css/bootstrap.css">
		<!-- Flexslider  -->
		<link rel="stylesheet" href="Assets/css/flexslider.css">

		<!-- Owl Carousel -->
		<link rel="stylesheet" href="Assets/css/owl.carousel.min.css">
		<link rel="stylesheet" href="Assets/css/owl.theme.default.min.css">
		<!-- Theme style  -->
		<link rel="stylesheet" href="Assets/css/style.css">

		<!-- Modernizr JS -->
		<script src="Assets/js/modernizr-2.6.2.min.js"></script>
		<!-- FOR IE9 below -->
		<!--[if lt IE 9]>
		<script src="js/respond.min.js"></script>
		<![endif]-->

		<!-- the leaflet CSS and JS library-->
		 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
		   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
		   crossorigin=""/>



		 <!-- Make sure you put this AFTER Leaflet's CSS -->
		 <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
		   integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
		   crossorigin=""></script>
 		<!-- Add JQuery to get local GeoJson file-->
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

			<!-- Layers -->



	<link rel="stylesheet" href="Assets/markercluster/dist/MarkerCluster.css">
	<link rel="stylesheet" href="Assets/markercluster/dist/MarkerCluster.Default.css">
	<script src="Assets/markercluster/dist/leaflet.markercluster.js"></script>
	<link rel="stylesheet" href="Assets/markercluster/dist/leaflet.defaultextent.css">
	<script src="Assets/markercluster/dist/leaflet.defaultextent.js"></script>

		<!-- A sytle for the map element -->
		<style>
			#map {height: 70vh; background-color: grey;}
			#map1 {height: 70vh; background-color: grey;}
		</style>



	</head>

	<body>
		<div id="colorlib-page">
			<div class="container-wrap">
			<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><i></i></a>
			<aside id="colorlib-aside" role="complementary" class="border js-fullheight">
				<div class="text-center">
					<div class="author-img" style="background-image: url(Assets/images/graduation.jpg);"></div>
					<h1 id="colorlib-logo"><a href="index.html">Lindsey Villegas</a></h1>
				</div>
				<nav id="colorlib-main-menu" role="navigation" class="navbar">
					<div id="navbar" class="collapse">
						<ul>
							<p><h4>My Labs</h4></p>
							<li class="active"><a href="#" data-nav-section="lab3">Lab 5</a></li>

						</ul>
					</div>
				</nav>

				<div class="colorlib-footer">
					<ul>
						<a href="https://github.com/LindseyVillegas" target="_blank"><i class="icon-github"></i></a>
						<a href="https://www.linkedin.com/in/lindseybaldwin1/" target="_blank"><i class="icon-social-linkedin"></i></a>
						<a href="https://twitter.com/LindseyKBaldwin?lang=en" target="_blank"><i class="icon-social-twitter"></i></a>
						<a href="mailto:lb88@uw.edu"><i class="icon-mail6"></i></a>
					</ul>

					<p><small>&copy; <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
				Copyright <script>document.write(new Date().getFullYear());</script> All rights reserved. Made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
				<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --> </span> </p>

				</div>

			</aside>

			<div id="colorlib-main">
				<section class="colorlib-work" data-section="lab3">
					<div class="colorlib-narrow-content">
						<div class="row">
							<div class="col-md-6 col-md-offset-3 col-md-pull-3 animate-box" data-animate-effect="fadeInLeft">
								<span class="heading-meta"><h2>My Labs</h2></span>
								<h2 class="colorlib-heading animate-box">Lab 5: Palm Oil: Destroying Endangered Species</h2>
								<p>
									** Click on the map to enable zoom with mouse wheel. **
								</p>

							</div>
						</div>


						<!-- the map element -->
						<h2>Location of Palm Oil Plants</h2>
						<img src="Assets/images/palmtrees.jpg" alt="Rows of Palm Oil Trees">
						<p></p>
						<p>
							 Palm oil is present in many items, from ice cream to soap to chocolate to cereal. While used in a food processing, it is also being used in biodiesel. According to the New York Times, the United States encouraged the use of oils in fuels, with the goals of reducing CO2. However, this had the opposite effect. Forests were cut down in order to make way for the oil palm tree, causing large amounts of carbon emissions to get released into the atmosphere from the slashing and burning of forests.
						</p>

							<p></p>

							<!-- Pie Chart -->
							<canvas id="myChart1"></canvas>
							    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

							    <script>
							    var ctx = document.getElementById("myChart1");

							    // For a pie chart
							    var myPieChart = new Chart(ctx,{
							        type: 'pie',
								   	data: {
								    labels: ["None", "RSPO Certified"],
								    datasets: [{
								        label: 'Certification',
								        data: [712,221],
								        backgroundColor: [
								            'rgba(255, 99, 132)',
								            'rgba(54, 162, 235)',
								        ]}]
								        },
								    });
							    </script>
							<p>[Chart 1] This chart shows the ratio of non-certified and RSPO Certified Palm Oil Plants in the dataset</p>

							<p></p>
						<p>
							Of the 933 mills listed in the data retrieved from the Global Forest Watch, only 221 are certified by RSPO, the Roundtable on Sustainable Palm Oil. RSPO has set up a certification for sustainable palm oil in which companies who want this certification must comply with environmental and social criteria set up through RSPO. While this seems great, RSPO states on their website that only 19% of palm oil is certified by them with an area of 2.79 million ha. There is also the Roundtable on Sustainable Biomaterials (RSB), Sustainable Agricultural Network (SAN), International Sustainability & Carbon Certification (ISCC), and Malaysian Sustainable Palm Oil (MSPO) which all have their own certification standards, however I am not able to get information from these sites on their numbers.
						</p>

						<!-- Chart -->
						<canvas id="myChart2" width=10 height=10></canvas>
							<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

							<script>
							var ctx = document.getElementById("myChart2");

							var myChart2 = new Chart(ctx, {
							    type: 'bar',
							    data: {
							        labels: ["1 Mill", "2 Mills", "3 Mills", "4 Mills", "5 Mills", "6 Mills", "7 Mills", "8 Mills", "9 Mills", "10+ Mills"],
							        datasets: [{
							            label: 'Number of Mills Owned',
							            data: [20,6,4,4,1,2,1,0,0,3],
							            backgroundColor: [
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)'
							            ],
							            borderColor: [
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)'
							            ],
							            borderWidth: 2
							        }]
							    },
							    options: {
							        scales: {
							            yAxes: [{
							                ticks: {
							                    beginAtZero:true
							                }
							            }]
							        }
							    }
							});


							</script>
				<p>[Chart 2] This chart shows the number of mills owned by each of the companies in the data set provided. There is also the group FELDA that owns 14 mills and Sime Darby Plantation Sdn Bhd that owns the most mills at 41 mills total. There are also 784 mills that the group is listed as "Unknown".</p>
							<p></p>
							<h4>The map below shows the locations of palm oil mills.</h4>


						<!-- MAP #1 -->
						<div id="map"></div>

						<!-- the script for my map -->
						<script>
							//Basemap from https://leaflet-extras.github.io/leaflet-providers/preview/
							var Esri_WorldGrayCanvas = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
								attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ',
								});

							//make the map
							var map = new L.Map("map", {
								zoom: 1.5,
								center: new L.LatLng(6.776708,22.570044),
								defaultExtentControl: true
							});

							// GeoJSON Layers retrieved from http://data.globalforestwatch.org/datasets/ed8d5951b2a4482a9e62c4fe0bc23b5f_27?geometry=-99.932%2C-23.73%2C50.889%2C34.737&selectedAttribute=certificat
							var palmOil = "https://opendata.arcgis.com/datasets/ed8d5951b2a4482a9e62c4fe0bc23b5f_27.geojson"

							//add the basemap to the map
							map.addLayer(Esri_WorldGrayCanvas);
							map.scrollWheelZoom.disable();
							map.on('focus', () => { map.scrollWheelZoom.enable(); });
							map.on('blur', () => { map.scrollWheelZoom.disable(); });

							//Add GeoJSON
							$.getJSON(palmOil, function(data){
			                var palmLayer = L.geoJson(data, {
			                onEachFeature: function (feature, featurelayer){
			                  featurelayer.bindPopup("<p>Name of Mill: "+feature.properties.mill_name_+"<br>Certification: "+feature.properties.certificat+"<br>Group Name: "+feature.properties.group_name+"</p>");
			                },
			                 pointToLayer: function (feature, latlng) {
			                            return L.circleMarker(latlng, {
			                                color: 'black',
			                                opacity: 0.75,
			                                weight: 1,
			                                fillColor: '#7b3294',
			                                fillOpacity: 100,
			                                radius: 10,
			                            });
			                        }
			                    });

			              	var markers = L.markerClusterGroup({
			        					spiderfyOnMaxZoom: false,
			        					showCoverageOnHover: false,
			        				});
			              	markers.addLayer(palmLayer);
			              	map.addLayer(markers);

			              });



						</script>

						<p></p> <!-- Spacing between map and information -->
						<h2>Sumatran Tiger Habitat</h2>
						<img src="Assets/images/tiger.jpg" alt="Sumatran Tiger">
						<p></p>
						<p>
							Oil palm trees are widely grown in southeast Asia, Latin America, and Africa. This area makes up a large portion of critical habitat for endangered and critical species, such as orangutans. According to an article written by One Green Planet in 2016, the Sumatran Tiger is another animal that is threatened to become extinct. There are currently less than 400 Sumatran Tigers in existence. The destruction of their habitat is in part due to palm oil, although palm oil is not the only reason. The destruction of habitat increases the chance that these tigers will come into contact with humans while they are searching for food. In addition, the loss of apex predators have a major impact on the biodiversity of the area.
						</p>
			<h4>The map below shows the locations of tiger habitat.</h4>
			<p> ** Zoom in and out to see the tiger habitat. **</p>

					<div id="map1"></div>

		<!-- MAP 2 -->
						<script>
						//Basemap from https://leaflet-extras.github.io/leaflet-providers/preview/
						var Esri_WorldGrayCanvas = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
							attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ',
								});

						//Make the map
						var map1 = new L.Map("map1", {
							zoom: 5,
							center: new L.LatLng(25.267175, 92.714156),
							defaultExtentControl: true
						});

						//GeoJSON Layers from http://data.globalforestwatch.org/datasets/tiger-conservation-landscapes
							var tigerConservation = "https://opendata.arcgis.com/datasets/04d892c083f54c638228931da081467b_3.geojson"

						//Add the basemap to the map
						map1.addLayer(Esri_WorldGrayCanvas);
						map1.scrollWheelZoom.disable();
						map1.on('focus', () => { map1.scrollWheelZoom.enable(); });
						map1.on('blur', () => { map1.scrollWheelZoom.disable(); });


						// Color polygons. https://leafletjs.com/examples/choropleth/ Green to Red

							function getColor(d) {
								console.log(d);
							    return d > 100000000 ? '#00441B' :
							           d > 50000000  ? '#006D2C' :
							           d > 1000000  ?  '#1B7837' :
							           d > 800000  ?   '#7FBF7B' :
							           d > 600000   ?  '#FEE090' :
							           d > 400000   ?  '#FC8D59' :
							           d > 200000   ?  '#D73027' :
							                           '#A50F15';
							}

							function style(feature) {
							    return {
							        fillColor: getColor(feature.properties.area_ha),
							        weight: 2,
							        opacity: 0,
							        color: 'white',
							        dashArray: '3',
							        fillOpacity: 1
							    };
							}

						//Add GeoJSON
							$.getJSON(tigerConservation,function(data){
								var tigerLayer = L.geoJson(data ,{
									style: style,
									onEachFeature: function(feature, featurelayer) {
										featurelayer.bindPopup("<p>Name of Landscape: "+feature.properties.tcl_name+"<br>Area (ha): "+feature.properties.area_ha+"</p>");
									}
								}).addTo(map1);
								map1.fitBounds(tigerLayer.getBounds());
							});

							//Make a legend, add it to the top right
									      	var legend1 = L.control({position: 'bottomright'});
									      	legend1.onAdd = function (map) {
									          var div1 = L.DomUtil.create('div1', 'info legend1');
									          div1.innerHTML = "<img src=Assets/images/Legend.jpg  style='width: 180px;'></img>";
									          return div1;
									      };
									      legend1.addTo(map1);





                        </script>

                        <p>This graph shows the number of tiger habitats that are certain sizes (in ha). The majority of tiger habitat is under a million</p>

                        <!-- Chart -->

                        <canvas id="myChart3" width=10vw height=10vh></canvas>
							<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

							<script>
							var ctx = document.getElementById("myChart3");

							var myChart3 = new Chart(ctx, {
							    type: 'bar',
							    data: {
							        labels: ["0 to 100,000 ha","100,001 to 200,000 ha", "200,001 to 300,000 ha", "300,001 to 400,000 ha", "400,001 to 500,000 ha", "500,001 to 600,000 ha", "600,001 to 700,000 ha", "700,001 to 800,000 ha", "800,001 to 900,000 ha", "900,001 to 100,000 ha", "> 100,001 ha" ],
							        datasets: [{
							            label: 'Number of Tiger Habitats (ha)',
							            data: [14,12,14,6,5,4,3,2,0,1,12],
							            backgroundColor: [
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)',
							                'rgba(35, 139, 69, 0.2)'
							            ],
							            borderColor: [
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)',
							                'rgba(0, 88, 36, 0.2)'
							            ],
							            borderWidth: 2
							        }]
							    },
							    options: {
							        scales: {
							            yAxes: [{
							                ticks: {
							                    beginAtZero:true
							                }
							            }]
							        }
							    }
							});


							</script>
							<p>[Chart 3] This chart shows the amount of tiger habitat by hectare.</p>

					</div>
				</section>





		</div><!-- end:colorlib-main -->
		</div><!-- end:container-wrap -->
		</div><!-- end:colorlib-page -->

		<!-- jQuery -->
		<script src="Assets/js/jquery.min.js"></script>
		<!-- jQuery Easing -->
		<script src="Assets/js/jquery.easing.1.3.js"></script>
		<!-- Bootstrap -->
		<script src="Assets/js/bootstrap.min.js"></script>
		<!-- Waypoints -->
		<script src="Assets/js/jquery.waypoints.min.js"></script>
		<!-- Flexslider -->
		<script src="Assets/js/jquery.flexslider-min.js"></script>
		<!-- Owl carousel -->
		<script src="Assets/js/owl.carousel.min.js"></script>
		<!-- Counters -->
		<script src="Assets/js/jquery.countTo.js"></script>


		<!-- MAIN JS -->
		<script src="Assets/js/main.js"></script>

	</body>


</html>
